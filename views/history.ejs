<!DOCTYPE html>
<html>
<head>
    <%- include('partials/_head.ejs') %>
</head>
<body>
    <%- include('partials/_header.ejs') %>
    <div class="container mt-5">
        <h2>Transaction History</h2>
        <ul class="list-group">
            <% tasks.forEach(function(task) { %>
                <li class="list-group-item">
                    Task: <%= task.description %>, Earnings: <%= task.amountEarned %>, Commission: <%= task.commission %>
                </li>
            <% }); %>
        </ul>

        <!-- Pagination Controls -->
        <nav aria-label="Page navigation example" class="mt-4">
            <ul class="pagination">
                <% for(let i=1; i <= totalPages; i++) { %>
                    <li class="page-item <%= i == currentPage ? 'active' : '' %>">
                        <a class="page-link" href="/history?page=<%= i %>"><%= i %></a>
                    </li>
                <% } %>
            </ul>
        </nav>
    </div>
    <%- include('partials/_footer.ejs') %>
</body>
</html>